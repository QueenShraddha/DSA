Strings

lec 131

Charecter set - It is a set of charecters supported by a language
We know that a computer system works on binary numbers
SO they cant access charecters directly
so we assign different numbers to these charecters and this set is followed by every electronic mchine

for english alphabets we use ASCII code (American Standard Code for Information Interchange)
It is made by ANSI and is ISO Standard

for different languages,like Hindi, Japanese and etc we have other ISO Standard and they are called Unicodes

ASCII codes:
A-Z are represented by 65-90
a-z are represented by 97-122
0-9 are represented by 48-57
there are ascii codes for spcl charecters like (),*,-,+....

Escape: 27
Enter: 10
Space : 13

So all ascii codes are represented by numbers from 0 to 127
every charecter here can be represented in max 7 bits in memory
in RAM they are allocated 1 byte(8 bits)

Unicode is a superset of all different charecters in all international languages, hence ASCII code is a subset of Unicode
They are represented in 4x4 bits(2 bytes) of Hexadecimal values

go to Unicode.org to find out different unicodes 


How to declare a charecter type array or a string in C/C++

char temp; //it is one single charecter variable, it takes only 1 byte of memory
They are represented in single quotes ''

temp='A';
or temp='B'

but temp = 'AB' is wrong
just one charecter can be used

to print or scanf, we use %c as a format specifier 
printf("%c",temp);
in C++, we can just use cout<<temp; or cin>>temp;

Array of charecters
char X[5]; //declares an array of 5 charecters
char X[5]={'A','B','C','D','E'}; //declare and init together
char X[]={'A','B','C','D','E'}; //declare and init together without mentioning the size

or we can create the same array with this:
char X[]={65,66,67,68,69};

char X[5]={'A','B'};
initialises the first 2 char as A and B and others with 0


string is nothing but a set/array of charecters
if we declare a name like this:
char name[10]={'J','O','H','N'};

here the length of the array is 10
but the string length is 4 only
where does the string end then?
the point where string ends is marked with a null charecter or '\0'
this is called a string delimiter or a EOF
also called string terminator

This is only for C/C++
in Java we dont have an EOF

hence the array is like this :
char name[10]={'J','O','H','N','\0'};
char name[]={'J','O','H','N','\0'}; //here the size isnt mentioned so the array is of 5 memory bytes only since \0 also takes up Space

we can also declare a string as this:
char name[10]="John";

in C,
to print a string:
printf("%s",name); //%s is used to print a name
to scan a string:
scanf("%s",name);  //remember we dont use & here

in C++
cin>>name;
cout<<name;

there is a problem in scanf reading, which is, if the string we need to enter has multiple words, say "Taj Mahal", scanf will stop taking in any input once it gets a Space
to avoid this we use gets() function

gets(name);


length of a string:
length means finding the length of charecters in the array
say:
S={'w','e','l','c','o','m','e','\0'}
we have to scan through this array until we reach \0
once we reach \0, we get the string

code:
int main(){
    char S[]="welcome";
    int i;
    for(i=0;S[i]!='\0',i++){} //counts the length in i
    printf("length is %d",i);
    return 0;    
}


how to change the case of a String:,ie, from upper case to lower case or vice versa

we know that A-Z -> 65-90
and a-z -> 97-122

we can see that for the same alphabet, the difference btwn the values of the upper case and lower case letters is 32
a-A=97-65=32 

so if we add 32 to a upper case letter, we get a lower case
so if we subtract 32 to a lower case letter, we get a upperr case

int main(){
    char A[]="WELCOME";
    int i;
    for(i=0;A[i]!='\0';i++){
        A[i]=A[i]+32;
    }
    printf("New string is: %s",A);
}

if a string has both kinds of cases, and we need to change both the cases to the opposite,ie, toggle them we will do this by:

char A[]="wElCome";
int i;
for(i=0;A[i]!='\0',i++){
    if(A[i]>=65 && A[i]<90){
        A[i]+=32;
    }else if(A[i]>='a' && A[i]<=122){
        A[i]-=32;
    }
}


counting vowels and consonants in a string

int main(){
    char A[]="How are you";
    int i,vcount=0,ccount=0;
    for(i=0;A[i]!='\0';i++){
        if(A[i]=='a' || A[i]=='e'....||A[i]=='A' || A[i]=='E'...){
            vcount++;
        }else if((A[i]>=65 && A[i]<=90)||(A[i]>=97 && A[i]<=122)){
            ccount++;
        }
    }
    cout<<"Number of vowels is: "<<vcount;
    cout<<"Number of consonants is: "<<ccount;
}


for counting number of words
here we will just count the number of spaces
number of words =  number of spaces+1

int main(){
    char A[]="How are you";
    int i,word=0;
    for(i=0;A[i]!='\0';i++){
        if(A[i]==' '){
            word++;
        }
    }
    printf("%d",word+1);
}

if there are countinuous spaces(more than one space), it is called a whitespace
if this occurs, our count of words can be manipulated
to resolve this problem, we use this code:

int main(){
    char A[]="How are you";
    int i,word=0;
    for(i=0;A[i]!='\0';i++){
        if(A[i]==' ' && A[i-1]!=' '){
            word++;
        }
    }
    printf("%d",word+1);
}


how to validate a string(check if the string is valid or not)
for example in passwords or id names, there are only alphabets or numbers are allowed and no other charecters are allowed

to implement this, we will scan through the entire string and check if all charecters are valid or not

int main(){
    char *name="Ani?321";
    if(valid(name)){
        pf("valid string");
    }else{
        pf("invalid string");
    }
}

int valid(char *name){
    int i;
    for(i=0;name[i]!='\0';i++){
        if(!(name[i]>=65 && name[i]<=90) && !(name[i]>=97 && name[i]<=122) && !(name[i]>=48 && name[i]<=57)){
            return 0;
        }
    }
    return 1;
}


reversing a string:
there are different methods to reverse a string

first method: copying a string backwards into another charecter array

first we find the last index of the string
then use a j to loop through B from the last
remember after copying all charecters from A to B, we hae to assign B[j] with '\0' inorder to make it a string

int main(){
    char A[]="python";
    char B[7];
    int i,j;
    for(i=0;A[i]!='\0';i++){}
    i=i-1;
    for(j=0;i>=0;i--,j++){
        B[j]=A[i];
    }
    B[j]='\0';
    printf("%s",B);
}


method 2:
swapping charecters in the same string 

int main(){
    char A[]="python";
    char t;
    int i,j;
    for(j=0;A[j]!='\0';j++){} //loop to find the end of the string
    j=j-1;
    for(j=0;i<j;i++,j--){
        t=A[i];
        A[i]=A[j];
        A[j]=t;
    }
    printf("%s",A);
}


comparing 2 strings and check if a string is palindrome or not
to check 2 strings are similar or not, we will loop through both strings and check every chareter is similar or not

if any charecter doesnt match, the strings are not equal

using this method we can also find the rank of the words in a dictionary
-> if a string is longer than the other, it ranks lower
-> check rank using the alphabet

if both the strings have different cases in different places, we wont be able to compare the strings properly, so we must convert both strings to upper case or lower case

int main(){
    char A[]="Painter";
    char B[]="Painting";

    for(i=0,j=0;A[i]!='\0' && B[i]!='\0';i++,j++){
        if(A[i]!=B[j]){ break; }
    }
    if(A[i]==B[i]) pf("equal");
    else if(A[i]<B[i]) pf("ranks lower");
    else pf("Ranks higher");  
}

a string is called palindrome if the reverse of the string is equal to the string itself
like: 'madam','azza',etc

to check for palindrome, first we reverse copy a string into another char array, and then compare them

int main(){
    char A[]="madam";
    char B[6];
    //first reverse copy into B
    int i,j;
    for(i=0;A[i]!='\0';i++){}
    i=i-1;
    for(j=0;i>=0;i--,j++){
        B[j]=A[i];
    }
    B[j]='\0';

    //then we compare the charecters
    //if the strings are same,they are palindrome otherwise not
}


finding duplicates in a string

there are 3 methods to finding duplicates:
1. comparing with other letters
2. using hash table
3. using bits

the first method is more or same as finding duplicates in a numerical array
check the notes for that topic and change the code as reqd

using hash tables:
for hashing we will use ascii codes of the charecters
we know a-z => 97-122
122 is the max ascii code possible
but then we will need to make a large array with 122 elements
but rather, what we will do is: we represent 'a' or 97 as 0th index
and 122 or 'z' as the 25th index
hence the hash table is only 26 elements large
indices can be obtained by subtracting 97 from the charecter
this helps us to reduce the size of the hash table
now we follow the procedure of hashing as we used to do 
for every element encountered for one or more times in the scanning of the array, we increase the value of that charecter in the hash tbale  by 1

int main(){
    char A[]="finding";
    int H[26],i;
    for(i=0;A[i]!='\0';i++){
        H[A[i]-97]+=1;
    }
    for(i=0;i<26;i++){
        if(H[i]>1){
            printf("%c occurs %d times",i+97,H[i]);
        }
    }
}

this is a code for just lower case charecters, if we need to make a code for upper case and other charecters too, we will need to increase the hash table size 